function iniMap(){0<$(".contact-map").length&&google.maps.event.addDomListener(window,"load",function(){var e={zoom:6,center:new google.maps.LatLng(52.940025,9.795843),styles:s},t=document.getElementById("contact-map"),a=new google.maps.Map(t,e),i="img/marker.png";new google.maps.Marker({position:new google.maps.LatLng(51.640071,12.882174),map:a,icon:i,title:"HQ"}),new google.maps.Marker({position:new google.maps.LatLng(48.726291,9.123533),map:a,icon:i,title:"Stuttgart"})});var s=[{featureType:"all",elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#000000"},{lightness:40}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#000000"},{lightness:16}]},{featureType:"all",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:17},{weight:1.2}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#000000"},{lightness:20}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#000000"},{lightness:21}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#000000"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#000000"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"},{lightness:16}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#000000"},{lightness:19}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#000000"},{lightness:17}]}]}$(document).ready(function(){var l=$(window),d=$(document);(0<window.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv\:11\./))&&$("body").addClass("is-ie"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&$("body").addClass("is-mobile");function c(){var e;function t(e,t){e.addClass("ui-input__validation"),e.appendTo(t.parent("div"))}function a(e){$(e).parent("div").addClass("has-error")}function i(e){$(e).parent("div").removeClass("has-error")}function s(a){$(a).addClass("loading"),$.ajax({type:"POST",url:$(a).attr("action"),data:$(a).serialize(),success:function(e){$(a).removeClass("loading");var t=$.parseJSON(e);console.log(t,t.success),t.success?($(a).find("input, textarea, select").val(""),$(".sucess-message-bg").addClass("is-showing"),$(".sucess-message").text(t.message).addClass("is-showing"),setTimeout(function(){$(".sucess-message").removeClass("is-showing"),$(".sucess-message-bg").removeClass("is-showing")},2500)):$(a).find("[data-error]").html(t.message).show()}})}svg4everybody(),window.viewportUnitsBuggyfill.init({force:!1,refreshDebounceWait:150,appendToBody:!0}),n(),l.on("scroll",throttle(n,25)),l.on("resize",debounce(n,200)),h(),$("input[type='tel']").mask("000 00000-000"),$("[js-selectric]").selectric({maxHeight:300}),$("[js-readmore]").readmore({speed:305,collapsedHeight:60,embedCSS:!0,moreLink:'<a class="list-more"><span>Mehr lesen ►</span</a>',lessLink:'<a class="list-more"><span>Lese weniger ►</span</a>'}),d.find("[js-lazy]").Lazy({threshold:500,enableThrottle:!0,throttle:100,scrollDirection:"vertical",effect:"fadeIn",effectTime:350,onError:function(e){console.log("error loading "+e.data("src"))},beforeLoad:function(e){}}),m(),setTimeout(m,300),0<(e=$(".header__logo svg")).length&&function(e,t){var a="."+t,i=e.find(a).get(0).getBBox(),s=i.x+i.width/2,n=i.y+i.height/2,r="<style>."+$(e).parent().parent().attr("class")+" ."+t+" { transform-origin: "+s+"px "+n+"px; }</style>";$(r).appendTo("body")}(e,"logo-mark"),$("[js-validateContactForm]").validate({errorPlacement:t,highlight:a,unhighlight:i,submitHandler:s,rules:{name:"required",content:"required",email:{required:!0,email:!0}},messages:{name:"This field is required",content:"This field is required",email:{required:"This field is required",email:"Email is invalid"}}}),$("[js-validatePurposal]").validate({errorPlacement:t,highlight:a,unhighlight:i,submitHandler:s,rules:{name:"required",content:"required",phone:"required",email:{required:!0,email:!0},agree:"required"},messages:{name:"This field is required",content:"This field is required",phone:"This field is required",email:{required:"This field is required",email:"Email is invalid"},agree:"This field is required"}}),l.on("resize",debounce(m,200))}c(),d.on("click",'[href="#"]',function(e){e.preventDefault()}).on("click",'a[href^="#section"]',function(){var e=$(this).attr("href");return $("body, html").animate({scrollTop:$(e).offset().top},1e3),!1});var s=0;function n(){var e=l.scrollTop(),t=$(".header").not(".header--static"),a=t.height(),i=d.find(".page__content div:first-child()").outerHeight();e<s?t.addClass("is-scrolling-top"):t.removeClass("is-scrolling-top"),a<e?t.addClass("is-fixed"):t.removeClass("is-fixed"),i<e?t.addClass("is-fixed-visible"):t.removeClass("is-fixed-visible"),s=e}function m(n){$("[js-masonry]").each(function(e,t){var a,i=$(t),s={itemSelector:".card",columnWidth:".grid-sizer",percentPosition:!0,gutter:15};i.imagesLoaded(function(){a=i.masonry(s),l.width()<640?a.masonry("destroy"):(a.masonry(s),n&&setTimeout(function(){a.masonry("reloadItems")},150))})})}function h(){0<d.find(".hero__image").length&&d.find(".hero__image").each(function(e,t){var a=scrollMonitor.create($(t)),i=$(t).find(".move-1"),s=$(t).find(".fade"),n=$(t).find(".anim-base").find("ellipse, path, rect, circle, polygon, polyline").get(),r={x:[25,40,50,-50,75,-40,-70,-100],y:[-20,35,-35,-40,-60,-20,80,-70],delay:[50,100,150,200,250]};a.enterViewport(throttle(function(){setTimeout(function(){i.each(function(e,t){var a=r.x[Math.floor(Math.random()*r.y.length)],i=r.y[Math.floor(Math.random()*r.x.length)],s=r.delay[Math.floor(Math.random()*r.delay.length)];anime({targets:t,translateY:[i,0],translateX:[a,0],opacity:1,duration:500,delay:200+1.5*s,easing:o})}),anime({targets:s.get(),opacity:1,duration:500,easing:o}),anime({targets:n,opacity:1,duration:500,translateY:[50,0],delay:750,easing:o})},500)}),100)}),d.find(".wow").each(function(e,t){var a=scrollMonitor.create($(t)),i=$(window).width()<768?0:$(t).data("animation-delay"),s=$(t).data("animation-class")||"wowFadeUp",n=$(t).data("animation-name")||"wowFade";a.enterViewport(throttle(function(){$(t).addClass(s),$(t).css({"animation-name":n,"animation-delay":i,visibility:"visible"})},100,{leading:!0}))})}d.on("focus",".ui-input-dynamic",function(){$(this).addClass("is-focused")}),d.on("blur",".ui-input-dynamic",function(){""!==$(this).find("input, textarea").val()?$(this).addClass("is-focused"):$(this).removeClass("is-focused")}),d.one("focus.autoExpand",".js-autoExpand",function(){var e=this.value;this.value="",this.baseScrollHeight=this.scrollHeight,this.value=e}).on("input.autoExpand",".js-autoExpand",function(){var e,t=0|this.getAttribute("data-min-rows");this.rows=t,e=Math.ceil((this.scrollHeight-this.baseScrollHeight)/17),this.rows=t+e}),Barba.Pjax.Dom.containerClass="page";var o=[.02,.01,.47,1],e=Barba.BaseTransition.extend({start:function(){Promise.all([this.newContainerLoading,this.fadeOut()]).then(this.fadeIn.bind(this))},fadeOut:function(){var t=Barba.Utils.deferred();return anime({targets:this.oldContainer,opacity:.5,easing:o,duration:300,complete:function(e){t.resolve()}}),t.promise},fadeIn:function(){var t=this,e=$(this.newContainer);$(this.oldContainer).hide(),e.css({visibility:"visible",opacity:.5}),anime({targets:"html, body",scrollTop:0,easing:o,duration:150}),anime({targets:this.newContainer,opacity:1,easing:o,duration:300,complete:function(e){t.done()}})}});Barba.Pjax.getTransition=function(){return e},Barba.Prefetch.init(),Barba.Pjax.start(),Barba.Dispatcher.on("newPageReady",function(e,t,a,i){var s=$(".header"),n=$(i).find("[js-headerClassToggler]").attr("class");s.removeClass("is-white").removeClass("is-blue").removeClass("is-black-fixed").removeClass("is-fixed-visible").removeClass("is-hidden").addClass(n).addClass("is-back-visible"),d.find(".header__back").attr("href",Barba.HistoryManager.prevStatus().url),s.removeClass("wow").removeClass("wowFadeDown").attr("style","");var r=window.location.href.split("/").splice(3,1);r&&$(".header__lang a").each(function(e,t){$(t).hasClass(r)?$(t).addClass("is-active"):$(t).removeClass("is-active")});var o=$(i).find(".header__lang").html();$(".header__lang").html(o),c(),l.scrollTop(1),l.scroll(),l.resize(),setTimeout(h,300),setTimeout(m(!0),300),iniMap()})});